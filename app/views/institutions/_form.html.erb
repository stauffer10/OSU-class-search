<%= render 'shared/errors', obj: @institution %>

<div class = "row">
    <div class = "col-xs-12">

        <%= simple_form_for @institution, class: "form-horizontal" do |f| %>
            <%= f.input :name, class: "form-control", placeholder: "Name of Institution"  %>
            <%= f.input :country, class: "form-control", label: "Country", prompt: "Select a Country", collection: CountryStateSelect.countries_collection %>
            <%= f.input :state, CountryStateSelect.state_options(label: "State / Province", prompt: "Select a State/Province if Applicable", form: f, field_names: { :country => :country, :state => :state } ) %>
            <%= f.input :city, class: "form-control", placeholder: "Name of City"  %>

            <%= f.button :submit, class: "btn btn-primary btn-lg" %>
        <% end %>






<%
=begin %>
        <%= form_with( model: @institution, local: true, class: "form-horizontal") do |f| %>
        
        
            <div class = "form-group">
                <div class = "control-label col-sm-2">
                    <%= f.label :name %>
                </div>

                <div class = "col-sm-8">
                    <%= f.text_field :name, class: "form-control", placeholder: "Name of Institution", autofocus: true %>
                </div>
            </div>

            <div class = "form-group">
                <div class = "control-label col-sm-2">
                    <%= f.label :city %>
                </div>

                <div class = "col-sm-8">
                    <%= f.text_field :city, class: "form-control", placeholder: "City Name", autofocus: true %>
                </div>
            </div>


            <div class = "form-group">
                <div class = "control-label col-sm-2">
                    <%= f.label :state %>
                </div>

                <div class = "col-sm-8">
                    <%= f.text_field :state, class: "form-control", placeholder: "State/Province", autofocus: true %>
                </div>
            </div>

            <div class = "form-group">
                <div class = "control-label col-sm-2">
                    <%= f.label :country %>
                </div>

                <div class = "col-sm-8">
                    <%= f.text_field :country, class: "form-control", placeholder: "Country Name", autofocus: true %>
                </div>
            </div>

            <div class = "form-group">
                <div class = "control-label col-sm-2">
                    <%= f.label :logo %>
                </div>

                <div class = "col-sm-8">
                    <%= f.file_field :logo, class: "form-control"%>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-5 col-sm-10">
                    <%= f.submit class: "btn btn-primary btn-lg" %>
                </div>
            </div>
        

            
        <% end %>
<%
=end %>

    </div>
</div>

<script type="text/javascript">
    $(document).on('ready page:load', function() {
      return CountryStateSelect({
        chosen_ui: false,
        country_id: @institution.country,
        state_id: @institution.state,
        city_id: @institution.city
      });
    });
</script>

